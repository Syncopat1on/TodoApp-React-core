{"ast":null,"code":"import React from'react';import{useState,useEffect}from'react';import formatDistanceToNow from'date-fns/formatDistanceToNow';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Task(_ref){let{task,onToggle,onDelete,onEdit}=_ref;const[isEditing,setIsEditing]=useState(false);const[editText,setEditText]=useState(task.text);useEffect(()=>{setEditText(task.text);},[task.text]);const handleEditSubmit=e=>{e.preventDefault();const trimmedText=editText.trim();if(trimmedText&&trimmedText!==task.text){onEdit(task.id,trimmedText);}setIsEditing(false);};const handleKeyDown=e=>{if(e.key==='Enter'){handleEditSubmit(e);}else if(e.key==='Escape'){setEditText(task.text);setIsEditing(false);}};return/*#__PURE__*/_jsxs(\"li\",{className:`${task.completed?'completed':''} ${isEditing?'editing':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"view\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"toggle\",type:\"checkbox\",checked:task.completed,onChange:()=>onToggle(task.id)}),/*#__PURE__*/_jsxs(\"label\",{onDoubleClick:()=>setIsEditing(true),children:[/*#__PURE__*/_jsx(\"span\",{className:\"description\",children:task.text}),/*#__PURE__*/_jsxs(\"span\",{className:\"created\",children:[\"created \",formatDistanceToNow(task.createdAt,{addSuffix:true})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"icon icon-edit\",onClick:()=>setIsEditing(true),\"aria-label\":\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"icon icon-destroy\",onClick:()=>onDelete(task.id),\"aria-label\":\"Delete\"})]}),isEditing&&/*#__PURE__*/_jsx(\"form\",{onSubmit:handleEditSubmit,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"edit\",value:editText,onChange:e=>setEditText(e.target.value),onBlur:handleEditSubmit,onKeyDown:handleKeyDown,autoFocus:true})})]});}","map":{"version":3,"names":["React","useState","useEffect","formatDistanceToNow","jsx","_jsx","jsxs","_jsxs","Task","_ref","task","onToggle","onDelete","onEdit","isEditing","setIsEditing","editText","setEditText","text","handleEditSubmit","e","preventDefault","trimmedText","trim","id","handleKeyDown","key","className","completed","children","type","checked","onChange","onDoubleClick","createdAt","addSuffix","onClick","onSubmit","value","target","onBlur","onKeyDown","autoFocus"],"sources":["C:/Users/under/OneDrive/Документы/GitHub/TodoApp-React-core/src/components/Task.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\n\r\nexport default function Task({ task, onToggle, onDelete, onEdit }) {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editText, setEditText] = useState(task.text);\r\n\r\n  useEffect(() => {\r\n    setEditText(task.text);\r\n  }, [task.text]);\r\n\r\n  const handleEditSubmit = (e) => {\r\n    e.preventDefault();\r\n    const trimmedText = editText.trim();\r\n    if (trimmedText && trimmedText !== task.text) {\r\n      onEdit(task.id, trimmedText);\r\n    }\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleEditSubmit(e);\r\n    } else if (e.key === 'Escape') {\r\n      setEditText(task.text);\r\n      setIsEditing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <li className={`${task.completed ? 'completed' : ''} ${isEditing ? 'editing' : ''}`}>\r\n      <div className=\"view\">\r\n        <input \r\n          className=\"toggle\" \r\n          type=\"checkbox\" \r\n          checked={task.completed}\r\n          onChange={() => onToggle(task.id)}\r\n        />\r\n        <label onDoubleClick={() => setIsEditing(true)}>\r\n          <span className=\"description\">{task.text}</span>\r\n          <span className=\"created\">\r\n            created {formatDistanceToNow(task.createdAt, { addSuffix: true })}\r\n          </span>\r\n        </label>\r\n        <button \r\n          className=\"icon icon-edit\" \r\n          onClick={() => setIsEditing(true)}\r\n          aria-label=\"Edit\"\r\n        />\r\n        <button \r\n          className=\"icon icon-destroy\" \r\n          onClick={() => onDelete(task.id)}\r\n          aria-label=\"Delete\"\r\n        />\r\n      </div>\r\n      {isEditing && (\r\n        <form onSubmit={handleEditSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            className=\"edit\"\r\n            value={editText}\r\n            onChange={(e) => setEditText(e.target.value)}\r\n            onBlur={handleEditSubmit}\r\n            onKeyDown={handleKeyDown}\r\n            autoFocus\r\n          />\r\n        </form>\r\n      )}\r\n    </li>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}